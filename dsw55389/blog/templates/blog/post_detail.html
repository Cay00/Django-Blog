<!-- blog/templates/blog/post_detail.html -->
{% extends 'blog/base.html' %}

{% block content %}
    <!-- TytuÅ‚ posta -->
    <h1>{{ post.title }}</h1>
    <p>{{ post.content }}</p>

    <!-- Sekcja gÅ‚osowania -->
    <h2>GÅ‚osowanie:</h2>
    <p>Åapki w gÃ³rÄ™: {{ upvotes }}</p>
    <p>Åapki w dÃ³Å‚: {{ downvotes }}</p>

    {% if user.is_authenticated %}
        <!-- Formularz do gÅ‚osowania -->
        <form method="POST">
            {% csrf_token %}
            <button type="submit" name="vote" value="True">ğŸ‘</button>
            <button type="submit" name="vote" value="False">ğŸ‘</button>
        </form>
    {% else %}
        <p>Zaloguj siÄ™, aby zagÅ‚osowaÄ‡.</p>
    {% endif %}

    <!-- Sekcja komentarzy -->
    <h2>Komentarze:</h2>
    <ul>
        {% for comment in comments %}
            <li><strong>{{ comment.author.username }}</strong>: {{ comment.content }} <em>({{ comment.created_at }})</em></li>
        {% endfor %}
    </ul>

    {% if user.is_authenticated %}
        <h3>Dodaj komentarz:</h3>
        <!-- Formularz dodawania komentarza -->
        <form method="POST">
            {% csrf_token %}
            {{ form.as_p }}
            <input type="hidden" name="comment" value="1" />
            <button type="submit">Dodaj komentarz</button>
        </form>
    {% else %}
        <p>Musisz byÄ‡ zalogowany, aby dodaÄ‡ komentarz.</p>
    {% endif %}
{% endblock %}
